# 微服务(1)--介绍
## 一. 概念
微服务是系统架构的一种设计风格，它的主旨是**将一个原本独立的系统拆分成多个小型的服务**，这些小型服务都在各自独立的进程中运行，服务之间通过基于HTTP的RESTful API进行通讯协作。

被拆分成的每一个小型服务都围绕着系统中的某一项或某一些耦合度较高的业务功能进行构建，并且每个服务都**维护着自身的数据库存储、业务开发、自动化测试方案及独立部署机制**。

由于有了轻量级的通讯协作基础，所以这些服务可以使用不同语言来编写。

### 1.1 与单体服务的对比
单体的缺点：

1. 不断扩大的业务使得单体变得更加臃肿
2. 难以维护：修改一个功能会影响线上的其他功能
3. 对各个模块、业务难以评估性能、也不容易做优化


### 1.2 微服务的好处

#### 微服务特性
1. 服务组件化: 可以独立更换和升级
2. 按业务组织团队: 各团队维护自己的业务和代码。 一方面有效减少服务内部修改所产生的内耗。另一方面团队边界更加清晰。
3. 做“产品”的态度：每个团队对其服务、产品的整个生命周期负责
4. 智能端点和哑管道。 通常会采用两种服务调用方式：
    - RESTful API或轻量级的消息协议。
    - 基于轻量级的总线传递，如RabbitMQ
5. 去中心化治理。采用轻量级的契约定义接口
6. 去中心化管理数据。 使得数据管理更加细致，可以通过选择合适的技术让数据存储和性能最优。但是数据存储到不同的实例后，数据一致性问题成为微服务需要解决的问题。
7. 基础设施自动化。
8. 容错设计
9. 演进式设计


### 1.3 微服务的挑战
1. 运维的挑战。 服务进程变多
2. 分布式服务复杂性: 需要考虑一些重要因素，如网络延迟、分布式事务、异步消息等。
3. 


## Spring Cloud简介
- Spring Cloud Config: 配置工具
- Spring Cloud Netflix: 核心组件，包含以下组件
    - Eureka: 服务治理组件，包含注册中心、服务注册和服务发现。
    - Hystrix: 容错管理组件，实现熔断模式，帮助服务依赖中出现的延迟和为故障提供强大的容错能力。
    - Ribbon: 客户端负载均衡的服务调用组件。
    - 


## 思考
- 微服务的拆分和水平拆分和垂直拆分的区别？
- 什么时候比较适合采用微服务模式，什么时候适合水平和垂直拆分
- 微服务和水平拆分、垂直拆分是否有冲突？两者如何有效整合？



